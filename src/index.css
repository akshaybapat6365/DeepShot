@import url("https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@500;600;700&family=Barlow:wght@300;400;500;600;700&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Midnight Glass Theme - Dark Mode Default */
  --background: 224 25% 6%;      /* #0b0e13 */
  --foreground: 210 20% 96%;     /* #f1f4f8 */

  --card: 224 20% 10%;           /* Slightly lighter than bg */
  --card-foreground: 210 20% 96%;

  --popover: 224 25% 8%;
  --popover-foreground: 210 20% 96%;

  /* Electric Blue Primary */
  --primary: 217 91% 60%;        /* #3b82f6 */
  --primary-foreground: 224 25% 6%;

  --secondary: 224 15% 15%;      /* Surface layer */
  --secondary-foreground: 210 20% 90%;

  --muted: 224 15% 15%;
  --muted-foreground: 215 15% 70%;  /* Improved contrast: ~5.5:1 */

  --accent: 190 90% 50%;         /* Cyan/Teal accent */
  --accent-foreground: 224 25% 6%;

  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 98%;

  --border: 224 20% 20%;         /* Subtle borders */
  --input: 224 20% 20%;
  --ring: 217 91% 60%;
  
  --radius: 0.75rem;

  --font-sans: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  --font-display: "Barlow", "Inter", sans-serif; /* Restore Barlow for headings/numbers */

  /* Accessible text opacity tokens */
  --text-high: 0.95;    /* Primary text - 15:1+ contrast */
  --text-medium: 0.80;  /* Secondary text - 7:1+ contrast */
  --text-low: 0.65;     /* Tertiary text - 4.5:1+ contrast (AA) */
  --text-disabled: 0.45; /* Disabled - 3:1 for large text only */
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased text-sm selection:bg-primary/30 selection:text-primary-foreground overflow-hidden;
    background-image: 
      radial-gradient(circle at 50% 0%, hsl(217, 91%, 60%, 0.15) 0%, transparent 40%),
      radial-gradient(circle at 0% 50%, hsl(190, 90%, 50%, 0.05) 0%, transparent 30%);
    background-attachment: fixed;
  }
}

@layer components {
  .font-display {
    font-family: var(--font-display);
  }

  .app-shell {
    background: transparent;
  }

  .glass-panel {
    @apply backdrop-blur-md border border-white/10 bg-gradient-to-br from-white/[0.05] via-[#0b0e13]/70 to-[#0b0e13]/80 shadow-[0_25px_60px_rgba(0,0,0,0.45)];
  }
  
  .glass-card {
    @apply backdrop-blur-sm border border-white/10 bg-gradient-to-br from-white/[0.05] to-white/[0.02] shadow-[0_18px_40px_rgba(0,0,0,0.35)] rounded-xl transition-all duration-300;
  }

  .calendar-shell {
    @apply glass-panel rounded-2xl border-white/10 shadow-2xl;
  }

  .calendar-day {
    @apply relative rounded-lg border border-white/5 bg-white/[0.02] text-foreground/90 transition-all duration-150 hover:bg-white/[0.06] hover:border-white/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-1 focus-visible:ring-offset-background cursor-pointer min-h-[52px] md:min-h-[72px];
  }

  .calendar-day.muted {
    @apply text-muted-foreground/40 bg-transparent hover:bg-white/[0.02];
  }

  .calendar-day.selected {
    @apply bg-primary/15 border-primary/50 shadow-[0_0_0_1px_rgba(59,130,246,0.4),0_4px_20px_rgba(59,130,246,0.2)];
  }

  .calendar-day.today {
    @apply border-primary/30;
  }

  .calendar-day.inactive {
    @apply opacity-50;
  }

  .calendar-day.has-logs {
    @apply bg-accent/10 border-accent/20;
  }

  .calendar-day.is-scheduled {
    @apply bg-primary/5;
  }

  .glass-pill {
    @apply relative overflow-hidden rounded-md border border-border bg-secondary px-3 py-1.5 text-xs transition-all hover:bg-secondary/80 active:scale-[0.98];
  }

  .glass-pill.active {
    @apply bg-primary/15 border-primary/40 text-primary;
  }

  .invert-calendar-icon::-webkit-calendar-picker-indicator {
    filter: invert(1);
    opacity: 0.5;
    cursor: pointer;
  }

  .invert-calendar-icon::-webkit-calendar-picker-indicator:hover {
    opacity: 0.8;
  }
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
